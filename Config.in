#
# automatic configuration
#


# mpd server uses BR2_PACKAGE_MPD_MPG123
# mpd client uses BR2_PACKAGE_MPD_MAD and BR2_PACKAGE_MPD_LIBNFS
# mpd standalone uses both BR2_PACKAGE_MPD_MPG123 and BR2_PACKAGE_MPD_MAD
if BR2_PACKAGE_MPD

# mpd client needs libmpdclient for access to a remote database
config BR2_PACKAGE_MPD_CLIENT
	bool
	default y if BR2_PACKAGE_MPD_LIBNFS || BR2_PACKAGE_MPD_LIBSMBCLIENT
	select BR2_PACKAGE_MPD_LIBMPDCLIENT

# mp3 playback depends on id3tag
config BR2_PACKAGE_MPD_MP3
	bool
	default y if BR2_PACKAGE_MPD_MAD || BR2_PACKAGE_MPD_MPG123
	select BR2_PACKAGE_MPD_ID3TAG

endif # BR2_PACKAGE_MPD

# for libmad, prefer accuracy over speed
#	this does not work, unfortunately;
#	choice item needs to be set manually
# use architecture-specific optimizations
config BR2_PACKAGE_LIBMAD_DEFAULTS
	bool
	default y if BR2_PACKAGE_LIBMAD
	select BR2_PACKAGE_LIBMAD_OPTIMIZATION_ACCURACY
	select BR2_PACKAGE_LIBMAD_ASO

# alsaloop depends on libsamplerate
config BR2_PACKAGE_ALSA_UTILS_ALSALOOP_DEFAULTS
	bool
	default y if BR2_PACKAGE_ALSA_UTILS_ALSALOOP
	select BR2_PACKAGE_LIBSAMPLERATE

# wpa-supplicant needs crda
config BR2_PACKAGE_WPA_SUPPLICANT_CRDA
	bool
	default y if BR2_PACKAGE_WPA_SUPPLICANT && !BR2_STATIC_LIBS
	select BR2_PACKAGE_CRDA

# host-genimage needs host-mtools
config BR2_PACKAGE_HOST_GENIMAGE_MTOOLS
	bool
	default y if BR2_PACKAGE_HOST_GENIMAGE
	select BR2_PACKAGE_HOST_MTOOLS


#
# external options menu
#

menu "Audio and video applications"
	source "$BR2_EXTERNAL_NABLA_PATH/package/brutefir/Config.in"
	source "$BR2_EXTERNAL_NABLA_PATH/package/folve/Config.in"
	source "$BR2_EXTERNAL_NABLA_PATH/package/zita-convolver/Config.in"
endmenu

menu "Debugging, profiling and benchmark"
	source "$BR2_EXTERNAL_NABLA_PATH/package/interbench/Config.in"
endmenu

menu "Hardware handling"
	menu "Firmware"
		source "$BR2_EXTERNAL_NABLA_PATH/package/armbian-firmware/Config.in"
		source "$BR2_EXTERNAL_NABLA_PATH/package/rk-firmware/Config.in"
	endmenu
endmenu
